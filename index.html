<!DOCTYPE html>
<html lang="de" class="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    
    <!-- PWA / App-Modus fÃ¼r iPad -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="JuSchG App">
    
    <title>Jugendschutzgesetz - Interaktive FallprÃ¼fung</title>
    
    <!-- Tailwind CSS (mit Dark Mode Support) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: { extend: {} }
        }
    </script>
    
    <!-- FontAwesome Icons -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    
    <!-- Confetti Script fÃ¼r Gamification -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            -webkit-tap-highlight-color: transparent;
            transition: background-color 0.3s, color 0.3s;
        }

        /* --- Modern Interactive Table (Traffic Light) --- */
        .traffic-light {
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            user-select: none;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        .traffic-light:active { transform: scale(0.92); box-shadow: none; }
        
        /* Light/Dark Mode Ampel-Farben */
        .state-neutral { background-color: #f1f5f9; color: #64748b; border: 1px solid #cbd5e1; }
        .dark .state-neutral { background-color: #1e293b; color: #94a3b8; border: 1px solid #334155; }
        
        .state-red { background-color: #fee2e2; color: #991b1b; border: 2px solid #ef4444; }
        .dark .state-red { background-color: #7f1d1d; color: #fca5a5; border: 2px solid #ef4444; }
        
        .state-green { background-color: #dcfce7; color: #166534; border: 2px solid #22c55e; }
        .dark .state-green { background-color: #14532d; color: #86efac; border: 2px solid #22c55e; }
        
        .state-yellow { background-color: #fef9c3; color: #854d0e; border: 2px solid #eab308; }
        .dark .state-yellow { background-color: #713f12; color: #fde047; border: 2px solid #eab308; }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-6px); }
            75% { transform: translateX(6px); }
        }
        .animate-shake { animation: shake 0.3s ease-in-out; }

        /* --- Term Matching --- */
        .term-item { cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); }
        @keyframes pulse-ring {
            0% { box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.7); }
            70% { box-shadow: 0 0 0 6px rgba(59, 130, 246, 0); }
            100% { box-shadow: 0 0 0 0 rgba(59, 130, 246, 0); }
        }
        .term-item.selected {
            transform: scale(1.05) translateY(-2px);
            background-color: #eff6ff; border-color: #3b82f6; color: #1d4ed8;
            animation: pulse-ring 1.5s infinite;
        }
        .drop-zone { min-height: 70px; transition: all 0.2s ease; }
        .drop-zone.highlight { background-color: #f0fdf4; border-color: #22c55e; border-style: solid; transform: scale(1.02); }
        .dark .drop-zone.highlight { background-color: #052e16; }

        /* --- iPad Forms --- */
        textarea, input[type="radio"] { appearance: none; -webkit-appearance: none; }
        .quiz-radio { width: 1.25rem; height: 1.25rem; border: 2px solid #cbd5e1; border-radius: 50%; outline: none; position: relative; transition: all 0.2s; }
        .dark .quiz-radio { border-color: #475569; }
        .quiz-radio:checked { border-color: #3b82f6; background-color: white; }
        .dark .quiz-radio:checked { background-color: #1e293b; }
        .quiz-radio:checked::after { content: ''; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 0.625rem; height: 0.625rem; background-color: #3b82f6; border-radius: 50%; }

        details > summary { list-style: none; }
        details > summary::-webkit-details-marker { display: none; }
        ::-webkit-scrollbar { width: 6px; height: 6px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 10px; }
        .dark ::-webkit-scrollbar-thumb { background: #475569; }
        
        /* Safe Areas (iPad Pro) */
        .pt-safe { padding-top: env(safe-area-inset-top); }
        .pb-safe { padding-bottom: env(safe-area-inset-bottom); }

        /* Save Badge Fade */
        .fade-out { opacity: 0; transition: opacity 1s ease-in-out; }

        @media print {
            body * { visibility: hidden; }
            #print-container, #print-container * { visibility: visible; }
            #print-container { position: absolute; left: 0; top: 0; width: 100%; background: white; padding: 0; color: black; }
            .page-break { page-break-before: always; }
            .no-print { display: none !important; }
            @page { size: A4; margin: 2cm; }
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-900 dark:bg-slate-900 dark:text-slate-100 pb-32">

    <!-- Print Container -->
    <div id="print-container" class="hidden absolute top-0 left-0 w-full bg-white z-50 prose max-w-none text-black"></div>

    <!-- ğŸ† Fortschrittsbalken -->
    <div class="fixed top-0 left-0 w-full h-1.5 bg-slate-200 dark:bg-slate-800 z-50 pt-safe no-print">
        <div id="progress-bar" class="h-full bg-blue-500 transition-all duration-500 ease-out w-0"></div>
    </div>

    <!-- ğŸŒ™ Dark Mode Toggle -->
    <button id="themeToggle" class="fixed top-4 right-4 z-40 bg-white/80 dark:bg-slate-800/80 backdrop-blur-md border border-slate-200 dark:border-slate-700 p-3 rounded-full shadow-lg text-slate-700 dark:text-yellow-400 text-xl no-print hover:scale-110 transition-transform">
        <i class="fa-solid fa-moon dark:hidden"></i>
        <i class="fa-solid fa-sun hidden dark:block"></i>
    </button>

    <!-- Main Content -->
    <main class="max-w-5xl mx-auto p-4 sm:p-6 lg:p-8 mt-4 no-print">
        
        <!-- Header Image -->
        <div class="w-full h-56 md:h-72 rounded-3xl overflow-hidden mb-10 shadow-xl relative bg-slate-900 flex items-center justify-center border border-slate-200 dark:border-slate-800">
            <img src="https://images.unsplash.com/photo-1589829085413-56de8ae18c73?auto=format&fit=crop&q=80&w=2000" alt="Gesetzestexte" class="w-full h-full object-cover opacity-40 absolute inset-0 mix-blend-overlay">
            <div class="absolute inset-0 bg-gradient-to-t from-slate-900 via-slate-900/40 to-transparent flex items-end p-6 md:p-10">
                <div class="z-10 relative">
                    <span class="bg-blue-600/30 backdrop-blur-md border border-blue-400/30 text-blue-100 text-xs font-bold px-4 py-1.5 rounded-full uppercase tracking-wider mb-4 inline-block shadow-sm">Klasse 10 | Modul Recht</span>
                    <h1 class="text-3xl md:text-5xl font-bold text-white mb-3 tracking-tight">Das Jugendschutzgesetz</h1>
                    <p class="text-blue-200 font-medium text-lg md:text-xl max-w-2xl">Warum wir Regeln brauchen und wie sie in der RealitÃ¤t aussehen</p>
                </div>
            </div>
        </div>

        <!-- Section 1: Einstieg (Dorf ohne Regeln) -->
        <section class="bg-white dark:bg-slate-800 rounded-3xl shadow-sm border border-slate-200 dark:border-slate-700 p-6 md:p-10 mb-8 transition-colors">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-2xl font-bold flex items-center"><span class="bg-amber-100 dark:bg-amber-900/50 text-amber-600 dark:text-amber-400 w-10 h-10 rounded-xl flex items-center justify-center mr-4"><i class="fa-solid fa-book-open"></i></span>Einstieg: Das Dorf ohne Regeln</h2>
                <button class="tts-btn text-amber-500 hover:bg-amber-50 dark:hover:bg-slate-700 w-10 h-10 rounded-full transition flex-shrink-0" data-read="storyText"><i class="fa-solid fa-volume-high"></i></button>
            </div>
            
            <div id="storyText" class="prose dark:prose-invert max-w-none text-slate-700 dark:text-slate-300 text-base md:text-lg leading-relaxed space-y-4 bg-amber-50/50 dark:bg-amber-900/10 p-6 md:p-8 rounded-2xl border border-amber-100 dark:border-amber-800/30 mb-8 italic shadow-inner">
                <p>Die Leute im Dorf hatten die Regeln satt. Alles war vorgeschrieben: wann sie aufstehen, wann sie zur Arbeit gehen sollten, wann Sonntag war und wann Werktag. Den SchÃ¼lern wurde vorgeschrieben, wann die Schule beginnt, dass sie ein Taschentuch bei sich tragen und zu Hause die ZÃ¤hne putzen sollen. Es gab Regeln, wie man Ã¼ber die StraÃŸe geht, wie lange man am Abend duschen darf und wie lange man Klavier spielen darf.</p>
                <p>Es waren wirklich viele Vorschriften, und die Leute beschlossen: <strong>Von heute an gelten keine Regeln mehr.</strong> Das war schÃ¶n!</p>
                <p>Die Schule war natÃ¼rlich leer, weil alle Kinder baden gingen. Die Leute stellten die Stubentische auf die StraÃŸe, weil es dort so sonnig war. Die Jungen drehten die Stereoanlage auf und lieÃŸen sie 24 Stunden laufen. Als Peter aus dem Wasser stieg, fand er seine Hosen nicht mehr. Klaus hatte sie angezogen. â€Es gibt keine Regeln mehr!â€œ rief er. â€Tja, ohne Regeln kann ich mir meine Hose auch wiederholen!â€œ sagte Peter und schon begann eine wilde PrÃ¼gelei. Obwohl Peter dabei Klaus die Nase brach, blieb sein Handeln ohne Folgen.</p>
                <p>Maja fand in ihrem Zimmer die kleine Esther vom oberen Stock. Sie war gerade dabei, Majas Lieblingspuppe zu operieren. â€Was machst du da?â€œ fragte Maja entsetzt. â€Es gibt keine Regeln mehrâ€œ, antwortete Esther darauf, packte Majas Puppen zusammen und ging davon. Als die Leute im Dorf einschlafen wollten, schmetterten die Lautsprecher noch immer. Viele fanden ihr Geld nicht mehr. Kinder schliefen dort, wo sie gerade waren. Auf der StraÃŸe hupten die Autos, die in die stehengebliebenen Tische krachten.</p>
                <p>â€Wo sind die Kinder?â€œ<br>â€Wer hat meinen Stubentisch ruiniert?â€œ<br>â€Wo ist mein Geld?â€œ<br>â€Wo ist die Polizei?â€œ</p>
                <p>Aber unter der Polizeinummer meldete sich niemand. Wenn es keine Regeln gibt, braucht es niemanden, der sie schÃ¼tzt. Noch in derselben Nacht begann eine Kirchenglocke zu lÃ¤uten. Die Leute eilten zusammen, und einer rief: â€So kÃ¶nnen wir nicht leben!â€œ. â€Nein, so kÃ¶nnen wir nicht leben!â€œ riefen alle zurÃ¼ck. <strong>Wir brauchen wieder Regeln!</strong> Und sie begannen, neue Regeln aufzustellen.</p>
            </div>

            <div class="relative">
                <label class="block text-slate-800 dark:text-slate-200 font-bold mb-3 text-lg">Arbeitsauftrag: Die Funktionen des Rechts</label>
                <p class="text-slate-600 dark:text-slate-400 mb-4 text-base">Warum ging das Experiment im Dorf schief? Notiere in eigenen Worten 2-3 Aufgaben, die Gesetze in einer Gesellschaft erfÃ¼llen mÃ¼ssen (z.B. Schutz vor...).</p>
                <textarea class="w-full h-32 p-5 text-base bg-white dark:bg-slate-900 border-2 border-slate-200 dark:border-slate-700 rounded-2xl focus:ring-4 focus:ring-blue-100 dark:focus:ring-blue-900 focus:border-blue-500 outline-none transition-all resize-y save-trigger shadow-sm" data-id="einstieg" placeholder="Wir brauchen Gesetze und Regeln, damit..."></textarea>
                <span class="save-badge hidden absolute bottom-4 right-4 text-green-500 font-bold bg-white/90 dark:bg-slate-800/90 px-3 py-1 rounded-full shadow-sm backdrop-blur"><i class="fa-solid fa-check mr-1"></i>Gespeichert</span>
            </div>
            
            <details class="mt-4 text-sm group">
                <summary class="cursor-pointer text-amber-600 dark:text-amber-400 font-semibold list-none flex items-center"><i class="fa-regular fa-lightbulb mr-2"></i>ğŸ’¡ Tipp anzeigen</summary>
                <div class="p-4 bg-amber-50 dark:bg-amber-900/20 text-amber-800 dark:text-amber-200 rounded-xl mt-2 border border-amber-100 dark:border-amber-800/50 leading-relaxed text-base">
                    <strong>Tipp:</strong> Denke an das geklaute Geld (Eigentum schÃ¼tzen), die gebrochene Nase (KÃ¶rper schÃ¼tzen / Rache vermeiden) und das Chaos auf den StraÃŸen (Ordnung schaffen). Das nennt man in der Fachsprache <strong>Schutzfunktion, Friedensfunktion und Ordnungsfunktion</strong>.
                </div>
            </details>
        </section>

        <!-- Intro JuSchG -->
        <section class="bg-white dark:bg-slate-800 rounded-3xl shadow-sm border border-slate-200 dark:border-slate-700 p-6 md:p-10 mb-8 transition-colors">
            <h2 class="text-2xl font-bold mb-5 flex items-center"><span class="bg-blue-100 dark:bg-blue-900/50 text-blue-600 dark:text-blue-400 w-10 h-10 rounded-xl flex items-center justify-center mr-4"><i class="fa-solid fa-scale-balanced"></i></span>Das Jugendschutzgesetz (JuSchG)</h2>
            <div class="prose dark:prose-invert max-w-none text-slate-600 dark:text-slate-300 text-base md:text-lg leading-relaxed space-y-4">
                <p>Jetzt wissen wir, warum wir Gesetze brauchen. Ein ganz spezielles Gesetz, das fÃ¼r euch relevant ist, ist das Jugendschutzgesetz (JuSchG). Seine Hauptaufgabe ist die <strong>Schutzfunktion</strong>: Es soll Kinder und Jugendliche vor GefÃ¤hrdungen in der Ã–ffentlichkeit schÃ¼tzen.</p>
                <p>Wichtig: Es dient <strong>nicht</strong> dazu, euch zu bestrafen! Es richtet sich an Gewerbetreibende (z.B. Kinobetreiber, SupermÃ¤rkte, Gastwirte) â€“ sie sind die sogenannten <strong>Normadressaten</strong>. Wenn ein GeschÃ¤ft gegen diese Regeln verstÃ¶ÃŸt, drohen den Betreibern hohe BuÃŸgelder.</p>
            </div>
        </section>

        <!-- Begriffsdefinitionen -->
        <section class="bg-white dark:bg-slate-800 rounded-3xl shadow-sm border border-slate-200 dark:border-slate-700 p-6 md:p-10 mb-8 transition-colors">
            <div class="flex flex-col sm:flex-row sm:items-center justify-between mb-6 gap-4">
                <h2 class="text-2xl font-bold flex items-center"><span class="bg-blue-100 dark:bg-blue-900/50 text-blue-600 dark:text-blue-400 w-10 h-10 rounded-xl flex items-center justify-center mr-4"><i class="fa-solid fa-puzzle-piece"></i></span>Die wichtigsten Begriffe</h2>
                <span class="text-sm font-semibold bg-blue-50 dark:bg-slate-700 text-blue-600 dark:text-blue-300 border border-blue-200 dark:border-slate-600 py-2 px-4 rounded-full flex items-center shadow-sm"><i class="fa-regular fa-hand-pointer mr-2 text-lg animate-bounce"></i>Tippen zum Zuweisen</span>
            </div>
            
            <div class="flex flex-wrap gap-3 mb-8 bg-slate-50 dark:bg-slate-900/50 p-4 rounded-2xl border border-slate-100 dark:border-slate-700" id="term-container">
                <div class="term-item bg-white dark:bg-slate-700 border-2 border-slate-200 dark:border-slate-600 rounded-xl py-3 px-5 font-semibold text-center flex-grow sm:flex-grow-0" data-term="Personensorgeberechtigter">Personensorgeberechtigter</div>
                <div class="term-item bg-white dark:bg-slate-700 border-2 border-slate-200 dark:border-slate-600 rounded-xl py-3 px-5 font-semibold text-center flex-grow sm:flex-grow-0" data-term="Erziehungsbeauftragter">Erziehungsbeauftragter</div>
                <div class="term-item bg-white dark:bg-slate-700 border-2 border-slate-200 dark:border-slate-600 rounded-xl py-3 px-5 font-semibold text-center flex-grow sm:flex-grow-0" data-term="BildtrÃ¤ger">BildtrÃ¤ger (USK/FSK)</div>
                <div class="term-item bg-white dark:bg-slate-700 border-2 border-slate-200 dark:border-slate-600 rounded-xl py-3 px-5 font-semibold text-center flex-grow sm:flex-grow-0" data-term="Kind">Kind (i.S.d. JuSchG)</div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-5">
                <div class="border border-slate-200 dark:border-slate-700 rounded-2xl p-5 shadow-sm flex flex-col">
                    <p class="text-slate-600 dark:text-slate-300 mb-4 flex-grow text-base">Jede Person Ã¼ber 18 Jahren, die aufgrund einer Vereinbarung mit den Eltern fÃ¼r diesen Abend Erziehungsaufgaben wahrnimmt (oft "Muttizettel").</p>
                    <div class="drop-zone border-2 border-dashed border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-900/50 rounded-xl flex items-center justify-center text-slate-400 font-medium" data-target="Erziehungsbeauftragter">Hier ablegen</div>
                </div>
                <div class="border border-slate-200 dark:border-slate-700 rounded-2xl p-5 shadow-sm flex flex-col">
                    <p class="text-slate-600 dark:text-slate-300 mb-4 flex-grow text-base">Wem allein oder gemeinsam mit einer anderen Person die Personensorge gesetzlich zusteht (in der Regel sind das die Eltern).</p>
                    <div class="drop-zone border-2 border-dashed border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-900/50 rounded-xl flex items-center justify-center text-slate-400 font-medium" data-target="Personensorgeberechtigter">Hier ablegen</div>
                </div>
                <div class="border border-slate-200 dark:border-slate-700 rounded-2xl p-5 shadow-sm flex flex-col">
                    <p class="text-slate-600 dark:text-slate-300 mb-4 flex-grow text-base">Personen, die noch nicht 14 Jahre alt sind. Sie unterliegen dem strengsten Schutzmechanismus im Gesetz.</p>
                    <div class="drop-zone border-2 border-dashed border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-900/50 rounded-xl flex items-center justify-center text-slate-400 font-medium" data-target="Kind">Hier ablegen</div>
                </div>
                <div class="border border-slate-200 dark:border-slate-700 rounded-2xl p-5 shadow-sm flex flex-col">
                    <p class="text-slate-600 dark:text-slate-300 mb-4 flex-grow text-base">Physische Speichermedien (wie DVDs, Blu-rays, Konsolen-Spiele auf Cartridge), die Filme oder Videospiele enthalten.</p>
                    <div class="drop-zone border-2 border-dashed border-slate-300 dark:border-slate-600 bg-slate-50 dark:bg-slate-900/50 rounded-xl flex items-center justify-center text-slate-400 font-medium" data-target="BildtrÃ¤ger">Hier ablegen</div>
                </div>
            </div>
        </section>

        <!-- Gesetzestexte -->
        <section class="bg-slate-800 dark:bg-slate-900 rounded-3xl shadow-lg border border-slate-700 p-6 md:p-10 mb-8 text-white">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-2xl font-bold flex items-center"><span class="bg-slate-700 text-blue-400 w-10 h-10 rounded-xl flex items-center justify-center mr-4"><i class="fa-solid fa-book-bookmark"></i></span>Gesetzes-Recherche</h2>
                <!-- ğŸ”Š TTS Info -->
                <span class="text-slate-400 text-sm hidden sm:inline"><i class="fa-solid fa-volume-high mr-1"></i> Auf den Lautsprecher tippen zum Vorlesen</span>
            </div>
            
            <div class="space-y-4">
                <details class="group bg-slate-700/50 rounded-2xl overflow-hidden border border-slate-600/50 open:bg-slate-700 transition-all">
                    <summary class="flex justify-between items-center font-medium cursor-pointer list-none p-5 hover:bg-slate-600/50 transition-colors text-lg">
                        <span class="flex items-center"><i class="fa-solid fa-utensils w-6 text-slate-400 mr-3"></i> Â§ 4 GaststÃ¤tten</span>
                        <div class="flex items-center gap-3">
                            <button class="tts-btn bg-slate-800 hover:bg-blue-600 text-slate-300 w-10 h-10 rounded-full flex items-center justify-center transition" data-read="law1" title="Vorlesen"><i class="fa-solid fa-volume-high"></i></button>
                            <span class="transition group-open:rotate-180 bg-slate-800 w-10 h-10 rounded-full flex items-center justify-center"><i class="fa-solid fa-chevron-down text-slate-400"></i></span>
                        </div>
                    </summary>
                    <div id="law1" class="text-slate-300 text-base leading-relaxed p-6 bg-slate-800/80 border-t border-slate-600/50">
                        Absatz 1: Der Aufenthalt in GaststÃ¤tten darf Kindern und Jugendlichen unter 16 Jahren nur gestattet werden, wenn eine personensorgeberechtigte oder erziehungsbeauftragte Person sie begleitet oder wenn sie in der Zeit zwischen 5 Uhr und 23 Uhr eine Mahlzeit oder ein GetrÃ¤nk einnehmen.
                        Absatz 2: Jugendlichen ab 16 Jahren darf der Aufenthalt in Gastst
